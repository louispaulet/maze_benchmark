<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maze Generator</title>
  <style>
    body {
      margin: 0;
      background-color: #f0f0f0;
    }
    #canvas {
      width: 100%;
      height: 100vh;
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.module.js';
    import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.121.1/examples/jsm/controls/OrbitControls.js';

    const canvas = document.getElementById('canvas');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, canvas.width / canvas.height, 0.1, 1000);
    camera.position.z = 50; // Move the camera above the maze
    camera.position.y = 30; // Move the camera above the maze
    camera.lookAt(new THREE.Vector3(15, 15, 0)); // Look at the center of the maze
    const renderer = new THREE.WebGLRenderer({
      canvas: canvas,
      antialias: true
    });
    const controls = new OrbitControls(camera, canvas);

    // Generate maze
    const mazeSize = 30;
    const blockWidth = 1;
    const blockHeight = 1;
    const blockDepth = 1;
    const maze = [];
    for (let x = 0; x < mazeSize; x++) {
      maze[x] = [];
      for (let y = 0; y < mazeSize; y++) {
        maze[x][y] = Math.random() < 0.5? 1 : 0; // 1 = wall, 0 = empty
      }
    }

    // Create maze geometry
    const geometry = new THREE.BoxGeometry(blockWidth, blockHeight, blockDepth);
    const wallMaterial = new THREE.MeshBasicMaterial({ color: 0x000000 }); // Black walls
    const floorMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff }); // White floor
    for (let x = 0; x < mazeSize; x++) {
      for (let y = 0; y < mazeSize; y++) {
        if (maze[x][y] === 1) {
          const mesh = new THREE.Mesh(geometry, wallMaterial);
          mesh.position.set(x * blockWidth, y * blockHeight, 0);
          scene.add(mesh);
        } else {
          const mesh = new THREE.Mesh(geometry, floorMaterial);
          mesh.position.set(x * blockWidth, y * blockHeight, -0.5); // Move the floor down a bit
          scene.add(mesh);
        }
      }
    }

    // Render loop
    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>